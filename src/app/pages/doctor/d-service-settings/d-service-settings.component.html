<app-d-header></app-d-header>


<div class="container">
  <h2>Manage Services</h2>

  <!-- Services Table -->
  <div class="table-responsive">
    <table>
      <thead>
        <tr>
          <th>Service Name</th>
          <th>Price</th>
          <th>Description</th>
          <th>Duration</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let service of doctorServices">
          <td data-label="Service Name">{{ service.serviceName }}</td>
          <td data-label="Price">{{ service.servicePrice }} EGP</td>
          <td data-label="Description">{{ service.serviceDescription }}</td>
          <td data-label="Duration">{{ service.avgDurationInMinutes }} min</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Add New Service Button -->
  <button class="add-btn" (click)="openServiceModal()">+ Add Service</button>

  <!-- Service Modal -->
  <div class="modal" *ngIf="isModalOpen">
    <div class="modal-content">
      <!-- Close Button (X) -->
      <button class="close-btn" (click)="closeServiceModal()">
        <span class="close-icon">&times;</span>
      </button>
      <h3>Select Services to Add</h3>
      <div class="services-list">
        <div class="service-item" *ngFor="let service of availableServices">
          <div class="service-header">
            <label class="service-name">
              {{ service.serviceName }}
            </label>
            <p class="service-description">{{ service.serviceDescription }}</p>
          </div>
          <div class="service-inputs">
            <!-- Price Input -->
            <div class="input-group">
              <label>Price (EGP)</label>
              <input type="number" placeholder="0.00" [(ngModel)]="service.price" min="0" step="0.01" />
            </div>
            <!-- Duration Input -->
            <div class="input-group">
              <label>Duration (minutes)</label>
              <input type="number" placeholder="0" [(ngModel)]="service.doctorAvgDurationForServiceInMinutes" min="0" />
            </div>
          </div>
          <!-- Add Button -->
          <button class="add-btn" (click)="validateAndAddService(service)">
            Add Service
          </button>
        </div>
      </div>
      <button class="cancel-btn" (click)="closeServiceModal()">Cancel</button>
    </div>
  </div>
</div>