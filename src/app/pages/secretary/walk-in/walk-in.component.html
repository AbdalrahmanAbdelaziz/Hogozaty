<app-s-header></app-s-header>
<app-s-sidenavbar></app-s-sidenavbar>

<div class="container" [dir]="translocoService.getActiveLang() === 'ar' ? 'rtl' : 'ltr'">
  <h2>{{ 'patientCheck.title' | transloco }}</h2>

  <!-- Input field for phone number -->
  <div class="input-container">
    <label for="phoneInput" class="visually-hidden">
      {{ 'patientCheck.phoneLabel' | transloco }}
    </label>
    <input 
      id="phoneInput"
      type="text" 
      [(ngModel)]="phoneNumber" 
      [placeholder]="'patientCheck.phonePlaceholder' | transloco"
      [attr.aria-label]="'patientCheck.phoneLabel' | transloco"
      aria-required="true"
      class="form-control"
    />
  </div>

  <!-- Check button -->
  <button (click)="checkRegistration()">{{ 'patientCheck.checkButton' | transloco }}</button>

  <!-- Display messages based on registration status -->
  <div *ngIf="isRegistered === false">
    <p>{{ 'patientCheck.notRegistered' | transloco }}</p>
    <button (click)="goToRegister()">{{ 'patientCheck.addPatientButton' | transloco }}</button>
  </div>

  <div *ngIf="isRegistered === true">
    <p>{{ 'patientCheck.registeredMessage' | transloco:{patientId: patientId} }}</p>
    <button (click)="goToAppointments()">{{ 'patientCheck.goToAppointments' | transloco }}</button>
  </div>
</div>