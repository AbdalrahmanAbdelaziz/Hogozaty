<div class="dashboard-container" [dir]="translocoService.getActiveLang() === 'ar' ? 'rtl' : 'ltr'">
  <app-s-header></app-s-header>

  <div class="dashboard-layout">

    <main class="dashboard-content">
      <div class="dashboard-card">
        <div class="card-header">
          <h2 class="card-title">{{ 'dashboard.appointmentStatus' | transloco }}</h2>
          <div class="card-actions">
          </div>
        </div>
        
        <!-- Data Visualization Section -->
        <div *ngIf="hasAppointmentData; else noDataMessage" class="data-visualization">
          <div class="chart-wrapper">
            <ngx-charts-pie-chart 
              [view]="view" 
              [results]="pieChartData" 
              [legend]="true" 
              [labels]="true"
              [doughnut]="true"
              (select)="onSelect($event)">
            </ngx-charts-pie-chart>
          </div>
        </div>
      
        <!-- No Data State -->
        <ng-template #noDataMessage>
          <div class="no-data-state">
            <i class="fas fa-calendar-times"></i>
            <h3>{{ 'dashboard.noAppointmentsTitle' | transloco }}</h3>
            <p>{{ 'dashboard.noAppointmentsMessage' | transloco }}</p>
            <button class="action-button" routerLink="/new-patient">
              <i class="fas fa-plus"></i> {{ 'dashboard.createNewAppointment' | transloco }}
            </button>
          </div>
        </ng-template>
        
        <!-- Quick Actions -->
        <div class="quick-actions">
          <button class="action-button" routerLink="/new-patient">
            <i class="fas fa-phone"></i> {{ 'dashboard.phoneReserve' | transloco }}
          </button>
          <button class="action-button" routerLink="/walkin-reserve">
            <i class="fas fa-user-clock"></i> {{ 'dashboard.walkinReserve' | transloco }}
          </button>
          <button class="action-button" routerLink="/service-settings">
            <i class="fas fa-cog"></i> {{ 'dashboard.serviceSettings' | transloco }}
          </button>
          <button class="action-button" routerLink="/timeslot-management">
            <i class="fas fa-calendar-alt"></i> {{ 'dashboard.timeslotManagement' | transloco }}
          </button>
          <button class="action-button" routerLink="/patients">
            <i class="fas fa-users"></i> {{ 'dashboard.patients' | transloco }}
          </button> 
        </div>
      </div>
    </main>
  </div>
</div>