<div class="most-chosen-doctors">
  <h2>Most Chosen Doctors</h2>

  <!-- Specialization Tags -->
  <div class="specialization-tags">
    <span (click)="filterDoctors('General')" [class.active]="'General' === selectedSpecialization">General</span>
    <ng-container *ngFor="let spec of specializations">
      <span *ngIf="spec.name !== 'General'" (click)="filterDoctors(spec.name)" [class.active]="spec.name === selectedSpecialization">
        {{ spec.name }}
      </span>
    </ng-container>
  </div>

  <!-- Doctor Cards -->
  <div class="doctor-list">
    <div *ngFor="let doctor of filteredDoctors" (click)="goToDoctorProfile(doctor)" class="doctor-card">
      <img [src]="BASE_URL + '/' + doctor.profilePicture || 'default-avatar.jpg'" alt="Doctor" class="doctor-img" />
      <div class="doctor-info">
        <h3>{{ doctor.firstName }} {{ doctor.lastName }}</h3>
        <p class="specialization">
          <i class="fas fa-user-md"></i> 
          {{ getSpecializationName(doctor.specializationId) }}
        </p>
        <p class="location">
          <i class="fas fa-map-marker-alt"></i>
          {{ doctor.country_En }}
        </p>
        <p class="star-rating">
          <i *ngFor="let star of getStars(doctor.avgFeedbackRating)" class="fas fa-star"></i>
          <span class="rating-number">{{ doctor.avgFeedbackRating.toFixed(1) }}</span>
        </p>
      </div>
    </div>
  </div>
</div>