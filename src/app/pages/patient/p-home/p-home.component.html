<app-p-header></app-p-header>

<div class="navbar-spacer"></div>

<app-side-navbar></app-side-navbar>



<div class="content">
  <!-- Main Content -->
  <div class="main-content">
    <!-- Search Bar -->
    <div class="search-container">
      <div class="search-box">
        <!-- Search Input (If Needed) -->
      </div>
    </div>

    <!-- Slider Section -->
    <div class="slider-container">
      <!-- <button class="nav-button prev" (click)="prevCard()">&#10094;</button> -->

      <div class="slider">
        <div 
          class="card" 
          *ngFor="let appointment of appointments.slice(currentIndex, currentIndex + 3)">

          <!-- Card Image -->
          <img 
          [src]="BASE_URL + '/' + appointment.doctorProfilePicture" 
          alt="Doctor Image" 
          onError="this.src='assets/default-avatar.jpg'" />
        

          <!-- Card Details -->
          <h2>{{ appointment.doctorName }}</h2>
          <p>{{ appointment.doctorSpecialization_En || 'General Practitioner' }}</p>
          <!-- <span class="clinic">{{ appointment.clinicName || 'Unknown' }}</span> -->

          <!-- Appointment Details -->
          <p><strong>Date:</strong> {{ appointment.timeSlot.date }}</p>
          <p><strong>Time:</strong> {{ appointment.timeSlot.startTime }} - {{ appointment.timeSlot.endTime }}</p>

          <!-- Status -->
          <p class="status" [ngClass]="{
              'done': appointment.appointmentStatus_En === 'Done',
              'upcoming': appointment.appointmentStatus_En === 'Upcoming',
              'in-progress': appointment.appointmentStatus_En === 'In Progress'
          }">
            {{ appointment.appointmentStatus_En }}
          </p>

          <!-- Cancel Button -->
          <a class="btn" (click)="cancelAppointment(appointment.id)">Cancel Reservation</a>
        </div>
      </div>

      <!-- <button class="nav-button next" (click)="nextCard()">&#10095;</button> -->
    </div>

    <app-most-chosen-doctors></app-most-chosen-doctors>
  </div>
</div>
