<!-- Conditional Header -->
<ng-container *ngIf="patient?.data?.applicationRole_En === 'Patient'; else secretaryHeader">
  <app-p-header></app-p-header>
</ng-container>
<ng-template #secretaryHeader>
  <app-s-header></app-s-header>
</ng-template>

<div class="navbar-spacer"></div>

<!-- Conditional Sidebar -->
<ng-container *ngIf="patient?.data?.applicationRole_En === 'Patient'; else secretarySidebar">
  <app-side-navbar></app-side-navbar>
</ng-container>
<ng-template #secretarySidebar>
  <app-s-sidenavbar></app-s-sidenavbar>
</ng-template>

<div class="content">
  <div class="booking-container">
    <h2>Confirm Your Rescheduling</h2>

    <!-- Doctor Details -->
    <div class="doctor-card">
      <img [src]="BASE_URL + '/' + selectedDoctor?.profilePicture || 'default-profile.png'" alt="Doctor's Profile Picture">
      <h3>{{ selectedDoctor?.firstName }} {{ selectedDoctor?.lastName }}</h3>
      <p>Specialization: {{ specialization }}</p>
      <p>Examination Price: {{ selectedDoctor?.checkPrice }} EGP</p>
    </div>

    <!-- Patient Details -->
    <div class="doctor-card">
      <h3>Patient Information</h3>
      <p><strong>Name:</strong> {{ patient?.data?.firstName }} {{ patient?.data?.lastName }}</p>
      <p><strong>Phone Number:</strong> {{ patient?.data?.phoneNumber }}</p>
    </div>

    <!-- Appointment Details -->
    <div class="doctor-card">
      <h3>Appointment Details</h3>
      <p><strong>Date:</strong> {{ selectedTimeSlot?.date }}</p>
      <p><strong>From:</strong> {{ selectedTimeSlot?.startTime }}</p>
      <p><strong>To:</strong> {{ selectedTimeSlot?.endTime }}</p>
      <p><strong>Clinic Location:</strong> {{ clinic?.district_En }}, {{ clinic?.governorate_En }}</p>
    </div>

    <!-- Notes Field -->
    <div class="notes-container">
      <h3>Additional Notes</h3>
      <textarea [(ngModel)]="notes" placeholder="Enter any additional notes..."></textarea>
    </div>

    <!-- Confirm Reschedule Button -->
    <button (click)="confirmReschedule()" class="confirm-button">Confirm Reschedule</button>
  </div>
</div>